RM=rm -f

all: vnccrack

OBJS=main.o wordlist.o cracker.o

CFLAGS = -O2 -Wall -W @BOTAN_CPPFLAGS@

vnccrack: $(OBJS)
	@CXX@ $(OBJS) @BOTAN_LIBS@ -o vnccrack

main.o: main.cpp vnccrack.h
	@CXX@ $(CFLAGS) -c $< -o $@

wordlist.o: wordlist.cpp vnccrack.h
	@CXX@ $(CFLAGS) -c $< -o $@

cracker.o: cracker.cpp vnccrack.h
	@CXX@ $(CFLAGS) -c $< -o $@

clean:
	$(RM) vnccrack *.o
	$(RM) config.status config.log
	$(RM) -r autom4te*.cache

distclean: clean
	$(RM) Makefile
