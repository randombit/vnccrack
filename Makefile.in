RM=rm -f

all: vnccrack

OBJS=vnccrack.o wordlist.o passwd.o crpair.o

EXTRA_CFLAGS=-Wall -W

vnccrack: $(OBJS)
	@CXX@ $(OBJS) @LDFLAGS@ @LIBS@ -o vnccrack

vnccrack.o: vnccrack.cpp vnccrack.h
	@CXX@ @CXXFLAGS@ $(EXTRA_CFLAGS) -c $< -o $@

wordlist.o: wordlist.cpp vnccrack.h
	@CXX@ @CXXFLAGS@ $(EXTRA_CFLAGS) -c $< -o $@

passwd.o: passwd.cpp vnccrack.h
	@CXX@ @CXXFLAGS@ $(EXTRA_CFLAGS) -c $< -o $@

crpair.o: crpair.cpp vnccrack.h
	@CXX@ @CXXFLAGS@ $(EXTRA_CFLAGS) -c $< -o $@

clean:
	$(RM) vnccrack *.o
	$(RM) config.status config.log
	$(RM) -r autom4te*.cache

distclean: clean
	$(RM) Makefile
